name: Docker Image CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:

  build:

    runs-on: ubuntu-latest
    env:
      ftoken: "eyJhbGciOiJSUzUxMiJ9.eyJjaXBoZXJ0ZXh0IjoiQkg0UFhueHFzZks1VWZGUlRZVjhiTzBObmlYczk2eWJRNlUxUVIyY2ZubDhlYUZ2T0FGdlczeDZqNU9HclRGRWdZWnBWQWFJWkxvVFE1YnRDUGJIeVZLQ2hZMDg0N1RGSWhrNUtGZ1EwUnhLczF5aUNlOHJtbjRBT0hPeVNlTGx0dlNoeW5TOUQwdmY0clJhQnV0NXI5a1FRVzFET3lJWDBETTJneGl3T0FDN2tZM1REaUFvSEpiMjdUOUV1cnJOIiwiZW5jcnlwdGVkX2tleSI6Im5KcE0xcjhrX3pUc1otSHVLb3VUaTVUWU14WFBCcnRZRjR4X3pobEhBNFkiLCJleHAiOjE3MjY0NTAwNTUsImhlYWRlciI6eyJpdiI6IjZMWHRpdDhaMVVVQk1HTngiLCJ0YWciOiI0TUQ0TWF4akNreEhXZW1XUjhEXzBBIn0sIml2IjoiUnNOSkEtNzJVNHJucjZzdCIsInByb3RlY3RlZCI6ImV5SmhiR2NpT2lKQk1qVTJSME5OUzFjaUxDSmxibU1pT2lKQk1qVTJSME5OSW4wIiwic3ViIjoiYXBpX3Rva2VuIiwidGFnIjoiUUluOEpxMUx0ZjVSSGNwNmZXelQtQSJ9.g9e44l5BzMj9PR4XhjcSpRzCNQYD6zx0JcXqy9IggTTxG1NUFGr2QjwdSfwEFDuZcbAL9PXEv-STj93Lak0Cj0xBQQDoSDHeeFIWDDWTP3kKgYmNvXMvIv6vLXkjhHqAHw2d2xfzukKRfctfzK-0JO_CeZ6M7APqOW26IRfRxij-aSLzWxGD267OBRXLK-L-ArSdFyiPeap89M7QBgBlwZmbuWTB9dn6l6PkEOlyBUnx7fwHEpyhWlwfzWjDPHXXpUBXNtj0ULIPRWdOldDNBVxPfgo57gsls2adruEBq9fVxXWxUHfL6WlDHSPX3R5s0YC2WjbT1ibggowOHJfs2A"
      password: 123456
    steps:
    - uses: actions/checkout@v2
    - name: Build the Docker image
      run: |
           docker pull fluidattacks/forces:new
           docker images
           docker run --rm -i fluidattacks/forces:new forces --token ${{env.ftoken}} -vv
